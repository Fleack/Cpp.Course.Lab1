# ЛАБОРАТОРНАЯ РАБОТА №1

**Тема:** Разработка библиотеки и консольного приложения для работы с календарными датами  
**Дедлайн:** к началу Лекции 3  
**Размещение:** шаблонный GitHub-репозиторий (с проверками форматирования, код-стайла и тестов)

---

## 1. Задание

Разработать:
- библиотеку **`date_core`**;
- консольное приложение **`date_cli`**,

реализующие работу с календарными датами **без использования `<chrono>`**.

Программа должна:
- проверять корректность даты;
- вычислять день недели по заданной дате;
- считать разность между датами;
- прибавлять дни к заданной дате;
- быть покрыта юнит‑тестами

---

## 2. Функциональные требования

---

### 2.1. Пространства имён и основные типы

Вся библиотека помещается в пространство имён `lab1::date`:

```cpp
namespace lab1::date
{

struct Date
{
};

} // namespace lab1::date
```

---

### 2.2. Функции библиотеки

Все функции объявляются в `date.hpp` и реализуются в `date.cpp`.
Необходимо реализовать следующие функции. Сигнатуры функций можно менять, но имена должны остаться прежними.

```cpp
namespace lab1::date
{

bool is_leap(int year);
int days_in_month(int year, int m);
bool is_valid(Date d);

int day_of_week(Date d);
int days_between(Date a, Date b);
Date add_days(Date d, int delta);

} // namespace lab1::date
```

---

### 2.3. Консольное приложение `date_cli`

#### Команды

```
date_cli validate YYYY-MM-DD
date_cli weekday  YYYY-MM-DD
date_cli add      YYYY-MM-DD N
date_cli diff     YYYY-MM-DD YYYY-MM-DD
```

#### Формат вывода
| Команда | Вывод |
|----------|-------|
| `validate` | `OK` или `INVALID` |
| `weekday` | `Mon Tue Wed Thu Fri Sat Sun` |
| `add` | новая дата `YYYY-MM-DD` |
| `diff` | целое число |

#### Примеры

```
$ date_cli validate 2024-02-29
OK

$ date_cli validate 2023-02-29
INVALID

$ date_cli weekday 1970-01-01
Thu

$ date_cli add 2020-03-01 -1
2020-02-29

$ date_cli diff 2020-01-01 2020-01-31
30
```

#### Ошибки
- Неверный формат даты → `INVALID` и ненулевой `exit code`;
- Ошибочные аргументы → краткое сообщение и ненулевой код;
- Все невалидные даты обрабатываются без исключений и Undefined Behaviour.

---

## 3. Ограничения

- `0 ≤ year ≤ 9999`
- `1 ≤ month ≤ 12`
- `1 ≤ day ≤ 31`
- Григорианский календарь
- Все прочие детали — детали вашей реализации.

---

## 4. Подсказки

<details>
<summary><b>Раскрывать только после завершения ЛР для самопроверки!</b></summary>

### Структура
- `.hpp` — только объявления
- `.cpp` — определения
- разделение на библиотеку и приложение

### Технические детали
- `#pragma once`
- без глобальных переменных
- функции `constexpr`, если возможно
- проверять аргументы (`is_valid` в `day_of_week`)

### Что изучить дополнительно
- алгоритмы дня недели
- разбор аргументов `argc/argv`
- преобразование строки в числа, `std::stoi`
</details>
